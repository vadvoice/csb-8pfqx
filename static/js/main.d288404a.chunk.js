(this.webpackJsonpfirebaseadmin=this.webpackJsonpfirebaseadmin||[]).push([[0],{64:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(24),s=c.n(a),i=c(17),j=c.n(i),u=c(21),l=c(10),b=c(68),o=c(73),d=c(69),O=c(71),p=c(70),x=c(74),h=c(42),f=(c(52),c(54),h.a.initializeApp({apiKey:"AIzaSyAXqQDg72pWLkRbQ4ECwtIs0ktyASQppDU",authDomain:"coin-268f6.firebaseapp.com",databaseURL:"https://coin-268f6-default-rtdb.europe-west1.firebasedatabase.app",projectId:"coin-268f6",storageBucket:"coin-268f6.appspot.com",messagingSenderId:"872243101668",appId:"1:872243101668:web:abfcd8fef426798f7d91f1"})),m=f.auth(),g=f.database(),v=c(2),w=r.a.createContext();function y(){return Object(n.useContext)(w)}function k(e){var t=e.children,c=Object(n.useState)(),r=Object(l.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!0),j=Object(l.a)(i,2),u=j[0],b=j[1];Object(n.useEffect)((function(){return m.onAuthStateChanged((function(e){s(e),b(!1)}))}),[]);var o={currentUser:a,login:function(e,t){return m.signInWithEmailAndPassword(e,t)},signup:function(e,t){return m.createUserWithEmailAndPassword(e,t)},logout:function(){return m.signOut()},resetPassword:function(e){return m.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(v.jsx)(w.Provider,{value:o,children:!u&&t})}var C=c(9),S=c(14),N=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],a=y(),s=a.currentUser,i=a.logout,h=Object(C.g)();function f(){return(f=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,i();case 4:h.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{children:Object(v.jsxs)(o.a,{style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)("h2",{className:"text-center mb-4 ",children:"Profile"}),Object(v.jsxs)("div",{style:{flex:1},children:["Email: ",s.email]}),Object(v.jsx)("div",{className:"text-center mt-2",children:Object(v.jsx)(d.a,{variant:"link",onClick:function(){return f.apply(this,arguments)},children:"Log Out"})})]})}),c&&Object(v.jsx)(O.a,{variant:"danger",children:c}),Object(v.jsxs)(p.a,{children:[Object(v.jsxs)(x.a,{style:{width:"18rem"},children:[Object(v.jsx)(x.a.Img,{variant:"top",src:"https://www.plotprojects.com/wp-content/uploads/2014/06/multiple-users.png"}),Object(v.jsxs)(x.a.Body,{children:[Object(v.jsx)(x.a.Title,{children:"Users"}),Object(v.jsx)(x.a.Text,{children:"All existing users"}),Object(v.jsx)(S.b,{className:"btn btn-primary",to:"/users/list",children:"List"})]})]}),Object(v.jsxs)(x.a,{style:{width:"18rem"},children:[Object(v.jsx)(x.a.Img,{variant:"top",src:"https://cdn1.iconfinder.com/data/icons/avatar-1-2/512/Add_User1-512.png"}),Object(v.jsxs)(x.a.Body,{children:[Object(v.jsx)(x.a.Title,{children:"Create User"}),Object(v.jsx)(x.a.Text,{children:"Create new user"}),Object(v.jsx)(S.b,{className:"btn btn-primary",to:"/users/new",children:"Create user"})]})]})]})]})},I=c(20),L=c(46);function P(e){var t=e.component,c=Object(L.a)(e,["component"]),n=y().currentUser;return Object(v.jsx)(C.b,Object(I.a)(Object(I.a)({},c),{},{render:function(e){return n?Object(v.jsx)(t,Object(I.a)({},e)):Object(v.jsx)(C.a,{to:"/login"})}}))}var E=c(72);function U(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),r=y().signup,a=Object(n.useState)(""),s=Object(l.a)(a,2),i=s[0],b=s[1],o=Object(n.useState)(!1),p=Object(l.a)(o,2),h=p[0],f=p[1],m=Object(C.g)();function g(){return(g=Object(u.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),t.current.value===c.current.value){n.next=3;break}return n.abrupt("return",b("Passwords do not match"));case 3:return n.prev=3,b(""),f(!0),n.next=8,r(e.current.value,t.current.value);case 8:m.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),b("Failed to create an account");case 14:f(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a,{children:Object(v.jsxs)(x.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),i&&Object(v.jsx)(O.a,{variant:"danger",children:i}),Object(v.jsxs)(E.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(v.jsxs)(E.a.Group,{id:"email",children:[Object(v.jsx)(E.a.Label,{children:"Email"}),Object(v.jsx)(E.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(E.a.Group,{id:"password",children:[Object(v.jsx)(E.a.Label,{children:"Password"}),Object(v.jsx)(E.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsxs)(E.a.Group,{id:"password-confirm",children:[Object(v.jsx)(E.a.Label,{children:"Password Confirmation"}),Object(v.jsx)(E.a.Control,{type:"password",ref:c,required:!0})]}),Object(v.jsx)(d.a,{disabled:h,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(v.jsx)(S.b,{to:"/login",children:"Log In"})]})]})}function A(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=y().login,r=Object(n.useState)(""),a=Object(l.a)(r,2),s=a[0],i=a[1],b=Object(n.useState)(!1),o=Object(l.a)(b,2),p=o[0],h=o[1],f=Object(C.g)();function m(){return(m=Object(u.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,i(""),h(!0),n.next=6,c(e.current.value,t.current.value);case 6:f.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),i("Failed to log in");case 12:h(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a,{children:Object(v.jsxs)(x.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(v.jsx)(O.a,{variant:"danger",children:s}),Object(v.jsxs)(E.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(v.jsxs)(E.a.Group,{id:"email",children:[Object(v.jsx)(E.a.Label,{children:"Email"}),Object(v.jsx)(E.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(E.a.Group,{id:"password",children:[Object(v.jsx)(E.a.Label,{children:"Password"}),Object(v.jsx)(E.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsx)(d.a,{disabled:p,className:"w-100",type:"submit",children:"Log In"})]})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(v.jsx)(S.b,{to:"/signup",children:"Sign Up"})]})]})}c(64),c(65);var R=r.a.createContext(),q=function(){return Object(n.useContext)(R)};function B(e){var t=e.children,c={database:g};return Object(v.jsx)(R.Provider,{value:c,children:t})}var F=function(){var e=q().database,t=Object(C.g)(),c=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useState)(!1),s=Object(l.a)(a,2),i=s[0],j=s[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.a,{className:"btn btn-danger",onClick:function(){return t.goBack()},children:"back"}),Object(v.jsxs)(E.a,{onSubmit:function(t){t.preventDefault(),j(!0);try{e.ref("/users").push({username:c.current.value,password:r.current.value})}catch(t){console.log(t)}j(!1)},children:[Object(v.jsxs)(E.a.Group,{id:"email",children:[Object(v.jsx)(E.a.Label,{children:"Email"}),Object(v.jsx)(E.a.Control,{type:"text",ref:c,required:!0})]}),Object(v.jsxs)(E.a.Group,{id:"password",children:[Object(v.jsx)(E.a.Label,{children:"Password"}),Object(v.jsx)(E.a.Control,{type:"text",ref:r,required:!0})]}),Object(v.jsx)(d.a,{disabled:i,className:"w-100",type:"submit",children:"create an user"})]})]})},G=c(75),D=function(){var e=q().database,t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),j=i[0],u=i[1],o=Object(C.g)(),O=function(){u(!0),e.ref().child("users").get().then((function(e){e.exists()?a(p(e.val())):console.log("No data available")})).catch((function(e){console.error(e)})),u(!1)};Object(n.useEffect)((function(){O()}),[]);var p=function(e){return Object.keys(e).map((function(t){return Object(I.a)(Object(I.a)({},e[t]),{},{id:t})}))};return Object(v.jsxs)("div",{children:[Object(v.jsx)(d.a,{className:"btn btn-danger",disabled:j,onClick:function(){return o.goBack()},children:"back"}),Object(v.jsx)(d.a,{disabled:j,onClick:O,children:"get users"}),Object(v.jsx)(b.a,{children:Object(v.jsx)(G.a,{as:"ul",children:r.map((function(e){return Object(v.jsxs)(G.a.Item,{as:"li",children:[Object(v.jsxs)("strong",{children:[e.id,": "]}),Object(v.jsx)("i",{children:e.username})]},e.id)}))})})]})};function T(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(S.a,{children:Object(v.jsx)(k,{children:Object(v.jsx)(B,{children:Object(v.jsxs)(C.d,{children:[Object(v.jsx)(P,{exact:!0,path:"/",component:N}),Object(v.jsx)(C.b,{path:"/signup",component:U}),Object(v.jsx)(C.b,{path:"/login",component:A}),Object(v.jsx)(C.b,{path:"/users/new",component:F}),Object(v.jsx)(C.b,{path:"/users/list",component:D})]})})})})})}var Q=document.getElementById("root");s.a.render(Object(v.jsx)(n.StrictMode,{children:Object(v.jsx)(T,{})}),Q)}},[[66,1,2]]]);
//# sourceMappingURL=main.d288404a.chunk.js.map